(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{125:function(t,a,n){"use strict";n.r(a);var s=n(0),e=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"content"},[n("h2",{attrs:{id:"file独立文件，提供只读信息-名称、大小、mimetype和对文件句柄的引用"}},[t._v("File独立文件，提供只读信息(名称、大小、mimetype和对文件句柄的引用)")]),n("ol",[n("li",[t._v("dom.files[0] 来获取File")])]),n("h2",{attrs:{id:"filelist-file对象的类数组序列"}},[t._v("FileList  File对象的类数组序列")]),n("h2",{attrs:{id:"blob-可将文件分割为字节范围"}},[t._v("Blob  可将文件分割为字节范围")]),n("h2",{attrs:{id:"filereader-读取file或blob"}},[t._v("FileReader 读取File或Blob")]),n("ol",[n("li",[n("p",[t._v("reader = new FileReader(); reader.readAsDataURL(file) 读取文件")])]),n("li",[n("p",[t._v("reader.onload = function(e){} 渲染文件")])]),n("li",[n("p",[t._v("方法")])])]),n("ul",[n("li",[t._v("FileReader(Blob, File)")]),n("li",[t._v("FileReader.readAsBinaryString(Blob | File)   结果为二进制字符串")]),n("li",[t._v("FileReader.readAsText(Blob | File)  文本字符串")]),n("li",[t._v("FileReader.readAsDataURL(Blob | File)   基于base64编码的data-uri对象")]),n("li",[t._v("FileReader.readAsArrayBuffer(Blob | File)  ArrayBuffer对象")])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("事件回调")])]),n("ul",[n("li",[t._v("onabort")]),n("li",[t._v("onerror")]),n("li",[t._v("onload")]),n("li",[t._v("onloadend")]),n("li",[t._v("onloadstart")]),n("li",[t._v("onprogress")])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("reader属性")])]),n("ul",[n("li",[t._v("result")]),n("li",[t._v("refs")]),n("li",[t._v("readystate")])]),n("h2",{attrs:{id:"url-scheme"}},[t._v("URL scheme")]),n("h2",{attrs:{id:"上传文件"}},[t._v("上传文件")]),n("ol",[n("li",[t._v("form_data = new FormData();")]),n("li",[t._v("form_data.append('key', file)")])]),n("ul",[n("li",[t._v("new Blob(实际数据的数组, {type: MIME})")]),n("li",[t._v("blob.slice(startByte, endByte)")])]),n("h2",{attrs:{id:"file-dom"}},[t._v("file DOM")]),n("ul",[n("li",[t._v("value--\x3efakeURL/filename")]),n("li",[t._v("files--\x3eFileList")]),n("li",[t._v("lastModified")]),n("li",[t._v("name")]),n("li",[t._v("lastModifiedDate")]),n("li",[t._v("webkitRelativePath")]),n("li",[t._v("size")])]),n("h2",{attrs:{id:"filereader-负责二进制数据读入内存，异步方式读取，读取客户端文件，读取完毕不会载入到缓存"}},[t._v("FileReader  负责二进制数据读入内存，异步方式读取，读取客户端文件，读取完毕不会载入到缓存")]),n("h2",{attrs:{id:"url-对二进制数据生成url"}},[t._v("URL  对二进制数据生成URL")]),n("ul",[n("li",[t._v("URL.createObjectURL(blob)")]),n("li",[t._v("URL.revokeObjectURL(img.src)  清除释放")])]),n("h2",{attrs:{id:"formdata"}},[t._v("FormData();")]),n("h2",{attrs:{id:"form-enctype-multipart-form-data-把文件传到本机的temp目录"}},[t._v('form  enctype="multipart/form-data"  把文件传到本机的temp目录')]),n("p",[t._v("co-busbody  解析multipart请求体\nkoa-cors\nkoa-multer")]),n("hr"),n("p",[t._v("form + iframe 实现异步上传\n将form的target指向iframe，选择完文件，提交子页面的form，这时iframe跳转，父页面没有刷新")]),n("hr"),n("p",[t._v("FormData + xhr.send()\n.append(‘key’, params[key])  Blob或String")]),n("h2",{attrs:{id:"append-filename-fileobj"}},[t._v(".append(fileName, fileObj)")]),n("p",[t._v("drop, dragover, drag leave\nevent.dataTransfer.files")]),n("hr"),n("p",[t._v("进度\nxhr.onreadystatechange\nxhr.readyState = 4  loaded")]),n("h2",{attrs:{id:"xhr-upload-onprogress-ee-lengthcomputable-e-loaded-e-total"}},[t._v("xhr.upload.onprogress--\x3ee\ne.lengthComputable,  e.loaded, e.total")]),n("p",[t._v("file切割：\nFile.prototype.mozSlice\nwebkitSlice\nslice(file, start, end)")]),n("p",[t._v("FileReader---load事件  progress\nresult 预览地址\nreadAsDataUrl----base64编码串\nreadAsArrayBuffer\nreadAsBinaryString")]),n("hr"),n("hr"),n("p",[t._v("XMLHttpRequest  2.0新增的传送数据类型：\nDOMString:  UTF-16, 即普通字符串\nDocument：类似XML\nFormData(FormElement)：send方法提交，可以上传二进制文件，类似于serialize(); 键值对？\nBlob：(二进制大文件)只读原始数据的类文件对象，有slice方法切出另一个Blob，canvas对象的toBlob方法，与window.URL；可以append ArrayBuffer数据\nnew Blob([ , ], {type: })")]),n("p",[t._v("File：基于Blob\nArrayBuffer：二进制数据的原始缓冲区？作为数据源提前pgtygc内存中，不可改变的二进制数据，本身不可读写；-----类型化数组或DataView来解释原始缓冲区。")]),n("p",[t._v("类型化数组：get-    set-\nInt8Array, Uint8Array, Int16Array, Uint16Array, Int16Array, Uint16Array, Float32Array, Float64Array")]),n("p",[t._v("(new Uint8Array([1, 2, 3])).buffer")]),n("p",[t._v("使用：b = new ArrayBuffer(8)\nv1 = new Int32Array(b)\nv1 = new Int32Array(b, 2, 2)  索引   长度")]),n("p",[t._v("new DataView(buffer, offset, length)")]),n("h2",{attrs:{id:"对webgl-canvas"}},[t._v("对WebGL  Canvas")]),n("p",[t._v("Uint8Array\nwindow.atob\nBlob")]),n("p",[t._v("类型化数组----与显卡之间的大量、实时数据交换！\n针对内存进行操作。")]),n("p",[t._v("bf.byteLength  占据内存长度\nbyteOffset   从底层ArrayBuffer对象的哪个字节开始")]),n("p",[t._v("分配内存\nbf = new ArrayBuffer(40)\nbf.slice(0, 10)  拷贝生成一个新的ArrayBuffer")]),n("p",[t._v("类型化数组：get-    set-\nInt8Array  1字节\nUint8Array  1字节\nInt16Array  2字节\nUint16Array  2字节\nInt32Array  4字节\nUint32Array  4字节\nFloat32Array  4字节\nFloat64Array  8字节")]),n("p",[t._v("Int8Array.BYTES_PER_ELEMENT   占的字节数")]),n("p",[t._v("v1 = new Int32Array(bf)\nv2 = new Unit32Array(bf，2)\nv3 = new Unit16Array(bf，2，2)\n同一对象上，可以根据不同的数据类型，建立多个视图，重叠的，任何一个视图对内存个性，另外两个视图都会反应出来")]),n("p",[t._v("v1.set(v2, 2)")]),n("p",[t._v("v3.subarray(2, 3)再建立一个视图")]),n("p",[t._v("2、直接生成  new Float64Array(8)")]),n("p",[t._v("3、普通数组转为视图数组\ntypedArray = new Unit8Array([1, 2, 3,4])")]),n("p",[t._v("视图转为数组  Array.from(typedArray)")]),n("p",[t._v("FileReader类，读取客户端文件，读取完毕不会载入到缓存\n实例方法：\nonabort\nabort\nonerror\nonload\nonloadend\nonloadstart\nonprogress\nreadyState\nresult\nDONE: 2\nEMPTY: 0\nLOADING: 1\nreadAsBinaryString(File Object)\nreadAsDataURL(File Object)\nreadAsText(File Object)")]),n("p",[t._v("此名之后，上面的result才会有值：\nfileReader.readAsDataURL(uploadButton.files[0]);")]),n("p",[t._v("File 是H5的对象，file input DOM在onchange事件上，有files属性，可以返回选中文件数组  Dom.files[0] 是File对象的实例；\nFile属性：lastModified，lastModifiedDate，name，type")]),n("p",[t._v("File Error类：可以自己生成此类，用于错误提示，【类名.属性】可以直接使用\nABORT_ERR: 3\nENCODING_ERR: 5\nINVALID_MODIFICATION_ERR: 9\nINVALID_STATE_ERR: 7\nNOT_FOUND_ERR: 1\nNOT_READABLE_ERR: 4\nNO_MODIFICATION_ALLOWED_ERR: 6\nPATH_EXISTS_ERR: 12\nQUOTA_EXCEEDED_ERR: 10\nSECURITY_ERR: 2\nSYNTAX_ERR: 8\nTYPE_MISMATCH_ERR: 11")]),n("p",[t._v("二进制数据Blob：为了存储方便，手动把数据转换为Blob，H5中\nvar myblob = new Blob([html, html], {“type”: “text/xml”}); 两个可选参数，一个是数据，另一个是mine-type")]),n("p",[t._v('var blob = new Blob([“hello”]);\na.href = window.URL.createObjectURL(blob);\na.download = “hello.txt”;\na.textContent = “download hello"\nbody.append(a);')]),n("p",[t._v("DataTransfer与DataTransferItemList：用于数据的交互，如拖拽上传、拖拽选择\n事件：img外层：ondrop   ondragover(处理ev.preventDefault)\nondrop处理：1、阻止默认行为；2、data = ev.dataTransfer.getData(“Text”);")]),n("p",[t._v("img：draggable属性为true  事件：ondragstart\nondrag处理ev.dataTransfer.setData(“Text”, ev.target.id)")]),n("p",[t._v("例子：")]),n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" uploadButton "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'uploadFile'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    uploadButton"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("onchange")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" img "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Image")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fileReader "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("FileReader")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileReader"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        fileReader"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("evt"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" img "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Image")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            img"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" fileReader"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        fileReader"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("onloadstart")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("evt"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        fileReader"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("onloadend")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("evt"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        fileReader"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("onprogress")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("evt"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        fileReader"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("onerror")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("evt"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        fileReader"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("readAsDataURL")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uploadButton"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token number"}},[t._v("0")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// img.src = this.value;")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v('// var fso = new ActiveXObject("Scripting.FileSystemObject");')]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// var file = fso.GetFile(this.value);")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// console.log(file.Attribute);")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// console.log(uploadButton.files[0]);")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// console.log(uploadButton.files[0] instanceOf File);")]),t._v("\n        img"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("dropHandler")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          e"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("stopPropagation")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          e"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("preventDefault")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" files "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataTransfer"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n         "),n("span",{attrs:{class:"token keyword"}},[t._v("for")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("0")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" len "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" files"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" len"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{attrs:{class:"token operator"}},[t._v("++")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n         "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" f "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" files"),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n         "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n   "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("dragOverHandler")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          e"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("stopPropagation")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          e"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("preventDefault")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          e"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataTransfer"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dragEffect "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'copy'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("//设置当拖拽到指定区域时，让文件可被复制")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("dragStartHandler")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" drag "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'drag'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    drag"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'drop'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dropHandler"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("false")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    drag"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'dragover'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dragOverHandler"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("false")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    drag"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'dragover'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dragStartHandler"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("false")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])}],!1,null,null,null);a.default=e.exports}}]);