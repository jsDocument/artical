(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{335:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("ul",[a("li",[t._v("react 的理解\n"),a("ul",[a("li",[t._v("用于构建用户界面的 javascript 库")]),t._v(" "),a("li",[t._v("组件化的方式构建 web 应用程序")]),t._v(" "),a("li",[t._v("JSX声明式的方式定义用户界面\n"),a("ul",[a("li",[t._v("命令式渲染命令，让程序一步步执行")])])]),t._v(" "),a("li",[t._v("组件化")]),t._v(" "),a("li",[t._v("复用性，通用性，跨平台")]),t._v(" "),a("li",[t._v("JSX --- 不引入新的语法 且 结构清晰、可读性强、样式、事件高内聚、低耦合")])])]),t._v(" "),a("li",[t._v("AST 先进行词法分析--parse--\x3etokens、再语法分析---解析成 JSON对象来描述、语义分析")]),t._v(" "),a("li",[t._v("小顶堆-----方便找到优先级最高的任务")]),t._v(" "),a("li",[t._v("lane 模型----添加任务优先级")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" babel "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel-/core'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sourceCode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" babel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sourceCOde"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/plugin-transform-react-jsx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("runtime")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'classic/automatic'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"react-渲染流程"}},[t._v("React 渲染流程")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("性能瓶颈")])]),t._v(" "),a("li",[a("p",[t._v("设计理念---异步可中断、增量更新")])]),t._v(" "),a("li",[a("p",[t._v("渲染分为 3 个阶段")]),t._v(" "),a("ul",[a("li",[t._v("scheduler 选择优先级高的任务进入 reconciler")]),t._v(" "),a("li",[t._v("reconciler 计算变更内容")]),t._v(" "),a("li",[t._v("react-dom 把变更的内容渲染到页面上")]),t._v(" "),a("li",[t._v("fiber 是一个执行单元，也是一种数据结构；把一个任务拆分成多个小任务，每个任务向浏览器申请时间片，requestIdleCallback「异步可中断」")])])]),t._v(" "),a("li",[a("p",[t._v("ReactDOM.unstable_createRoot(dom).render("),a("App"),t._v(")，但把整个执行时间变成了")],1)]),t._v(" "),a("li",[a("p",[t._v("屏幕刷新率 1s 60帧, 1000/60, js 执行与渲染的间隔是16.6ms，不让一帧的工作量超过16 ms")])]),t._v(" "),a("li",[a("p",[t._v("帧 javascript 执行引擎和渲染引擎在同一个线程，两者互斥；每帧开头包括样式计算、布局和绘制")])]),t._v(" "),a("li",[a("p",[t._v("render 的全过程：调度、调和、提交")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);