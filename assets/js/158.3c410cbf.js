(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{333:function(t,s,e){"use strict";e.r(s);var a=e(0),r=Object(a.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"项目构建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目构建"}},[t._v("#")]),t._v(" 项目构建")]),t._v(" "),e("p",[t._v("类型检查")]),t._v(" "),e("ol",[e("li",[t._v("基本类型和引用类型(boolean, string, number, null, undefined, void没有返回值, number[], any, never没有值的类型 元组 枚举)")]),t._v(" "),e("li",[t._v("class中protected, private, public")]),t._v(" "),e("li",[t._v("联合类型 type | type")]),t._v(" "),e("li",[t._v("对象类型 interface P{name: String, age?: Number, [sex: Boolean]: any, readonly id: number, [index: number]: number}【可选，任意属性即key不定】 即P类型的接口；使用let s: P={name: 'aa', age: 24}，使用时属性需按照声明顺序")]),t._v(" "),e("li",[t._v("泛型 a: Array<Number> = [1,2]")]),t._v(" "),e("li",[t._v("函数类型  function add(x: number = 2, y?: number, ...items: any[]):void{} 或 add:(x:number)=>number = function(x: number):number{} 支持重载")]),t._v(" "),e("li",[t._v("类型断言 <类型>值 或 值 as 类型；类型不确定时："),e("code",[t._v("<string>")]),t._v("a.length")])]),t._v(" "),e("h2",{attrs:{id:"package-json中的typescript配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#package-json中的typescript配置"}},[t._v("#")]),t._v(" package.json中的typescript配置")]),t._v(" "),e("ul",[e("li",[t._v("typings入口文件配置  inddex.d.ts")]),t._v(" "),e("li",[t._v("files编译时需要编译的文件？")]),t._v(" "),e("li",[t._v("tsconfig.json typescript编译配置设置，不配置则是默认配置")])]),t._v(" "),e("h2",{attrs:{id:"mpvue-的index-d-ts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mpvue-的index-d-ts"}},[t._v("#")]),t._v(" mpVue 的index.d.ts")]),t._v(" "),e("ol",[e("li",[t._v("在index.d.ts中引入Vue中的需的模块的.d.ts")]),t._v(" "),e("li",[t._v("声明vue命名空间，里面定义了需要的Vue的相关模块，因为export = Vue，Vue必须是命名空间")])]),t._v(" "),e("h2",{attrs:{id:"mpvue中构建rollup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mpvue中构建rollup"}},[t._v("#")]),t._v(" mpVue中构建rollup")]),t._v(" "),e("ol",[e("li",[t._v("抛出配置项：{input, external, plugins, output, name}")]),t._v(" "),e("li",[t._v("vue给了不同情况下打包的entry--\x3einput, output{dest--\x3edest, format, banner, name--\x3emoduleName}, external, [{replace(weex), flow, buble, alias},plugins, env]")])]),t._v(" "),e("h2",{attrs:{id:"vue的index-d-ts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue的index-d-ts"}},[t._v("#")]),t._v(" Vue的index.d.ts")]),t._v(" "),e("ol",[e("li",[t._v("将options.d.ts, plugin.d.ts与vue.d.ts及vnode.d.ts中定义的方法抛出。")])]),t._v(" "),e("h2",{attrs:{id:"泛型-支持多种类型的数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#泛型-支持多种类型的数据"}},[t._v("#")]),t._v(" 泛型 支持多种类型的数据")]),t._v(" "),e("ol",[e("li",[t._v("如mpvue中：ComponentOptions发"),e("code",[t._v("<V extends Vue> = Options.ComponentOptions<V>")])]),t._v(" "),e("li",[t._v("使用 "),e("code",[t._v("ComponentOptions<V>(this)")])]),t._v(" "),e("li",[t._v("使用 ComponentOptions(this) 进行的类型推论")])]),t._v(" "),e("h2",{attrs:{id:"类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#类型"}},[t._v("#")]),t._v(" 类型")]),t._v(" "),e("ol",[e("li",[t._v("number")]),t._v(" "),e("li",[t._v("any 丢失一些信息，任何类型的都有可能被返回 function ident(arg: any): any{}")]),t._v(" "),e("li",[e("code",[t._v("function ident<T>(arg: T): T{}")]),t._v(" 返回类型与传入参数类型是相同的。")])]),t._v(" "),e("h2",{attrs:{id:"typescript-接口定义declare"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#typescript-接口定义declare"}},[t._v("#")]),t._v(" typescript 接口定义declare")]),t._v(" "),e("ol",[e("li",[t._v("module")]),t._v(" "),e("li",[t._v("namespace")]),t._v(" "),e("li",[t._v("interface")]),t._v(" "),e("li",[t._v("class")]),t._v(" "),e("li",[t._v("var")]),t._v(" "),e("li",[t._v("type")])]),t._v(" "),e("h2",{attrs:{id:"装饰器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#装饰器"}},[t._v("#")]),t._v(" 装饰器")]),t._v(" "),e("ol",[e("li",[t._v("特殊类型的声明----类声明、方法、访问符、属性或参数@expression")])]),t._v(" "),e("h2",{attrs:{id:"类型检查"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#类型检查"}},[t._v("#")]),t._v(" 类型检查")]),t._v(" "),e("p",[t._v("//@ts-nochedk 或 //@ts-check 或//@ts-ignore /** @type {Number} */")]),t._v(" "),e("h2",{attrs:{id:"三斜线指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三斜线指令"}},[t._v("#")]),t._v(" 三斜线指令")]),t._v(" "),e("ol",[e("li",[t._v("需要在文件顶端，上面只能出现注释")]),t._v(" "),e("li",[t._v('是包含单个XML标签的单行注释，如///<reference path=""/>')]),t._v(" "),e("li",[t._v("是指编译过程中需要引入的额外的文件，使用--out时，可以做为调整输出内容顺序的一种方法")]),t._v(" "),e("li",[t._v("对输入文件(files)按指定的顺序进行预处理，在文件被加入列表前，它包含的所有三斜线引用都要被处理，还有它们包含的目标。？")])]),t._v(" "),e("h2",{attrs:{id:"vue项目中加入typescript需要做的修改"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue项目中加入typescript需要做的修改"}},[t._v("#")]),t._v(" Vue项目中加入typescript需要做的修改")]),t._v(" "),e("ol",[e("li",[t._v("安装ts相关的依赖 typescript ts-loader  vue-class-component  vue-decorator-property @types文件依赖")]),t._v(" "),e("li",[t._v("webpack配置文件tsx加ts-loader，加上 options: {appendTsSuffixTo: [/.vue$/]}配置")]),t._v(" "),e("li",[t._v("习惯用 vue-class-component 的可能还要配置 vue-decorator-property 依赖??")]),t._v(" "),e("li",[t._v("vue文件中的声明语言为ts，class前加@Component")]),t._v(" "),e("li",[t._v('添加声明模块.d.ts，declare module "*.vue"{import Vue..., export default Vue}')]),t._v(" "),e("li",[t._v("tsconfig.json文件配置")])]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 与 Vue 的浏览器支持保持一致")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"target"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es5"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这可以对 `this` 上的数据属性进行更严格的推断")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"strict"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果使用 webpack 2+ 或 rollup，可以利用 tree-shake:")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"module"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es2015"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"moduleResolution"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用实验性的decorators特性")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"experimentalDecorators"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"strictFunctionTypes"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 允许使用非ts文件")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"allowJs"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br")])])])}],!1,null,null,null);s.default=r.exports}}]);