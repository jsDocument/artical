(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{69:function(l,i,e){"use strict";e.r(i);var t=e(0),n=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var l=this,i=l.$createElement,e=l._self._c||i;return e("div",{staticClass:"content"},[e("h3",{attrs:{id:"babel"}},[l._v("babel")]),e("ul",[e("li",[l._v("polyfill")]),e("li",[l._v("runtime")]),e("li",[l._v("stage")]),e("li",[l._v("preset-env")])]),e("h3",{attrs:{id:"概念"}},[l._v("概念")]),e("ul",[e("li",[l._v("entry: 一个可执行模块 或 库的入口文件")]),e("li",[l._v("chunk: 多个文件组成一个代码块")]),e("li",[l._v("loader: 文件转换器")]),e("li",[l._v("plugin: 在webpack构造生命周期的节点上加入扩展hook, 为webpack扩展功能")])]),e("h3",{attrs:{id:"webpack优势与缺点"}},[l._v("webpack优势与缺点")]),e("ul",[e("li",[l._v("适用于SPA与模块化")])]),e("h3",{attrs:{id:"编译的大致流程"}},[l._v("编译的大致流程")]),e("ul",[e("li",[l._v("解析webpack参数配置, 合并从shell传入及配置文件的配置, 生成最后的配置结果。")]),e("li",[l._v("注册所有配置的插件, 让插件监听webpack构建生命周期的事件节点, 以做出对应的反应。")]),e("li",[l._v("从entry开始解析文件构建AST语法树, 找出每个文件的依赖文件, 递归下去")]),e("li",[l._v("在递归文件的过程中, 根据文件类型和loader配置找出合适的loader对文件进行转换")]),e("li",[l._v("递归完成后得到每个文件的最终结果, 根据entry配置生成代码块chunk")]),e("li",[l._v("输出所有chunk到文件系统")])]),e("h3",{attrs:{id:"优化"}},[l._v("优化")]),e("ul",[e("li",[l._v("缓存: 代码分割")])]),e("h3",{attrs:{id:"webpack编译性能优化"}},[l._v("webpack编译性能优化")]),e("h3",{attrs:{id:"webpack插件"}},[l._v("webpack插件")]),e("ul",[e("li",[l._v("compiler 存放着webpack配置, 代表着从启动到关闭的生命周期")]),e("li",[l._v("compilation 监听文件变化自动编译机制, 代表一次编译; 代表模块资源、编译生成的资源、变化的文件等")]),e("li",[l._v("webpack会广播出许多事件, plugin可以监听这些事件, 在合适的时机通过webpack提供的API, 改变输出结果")]),e("li",[l._v("通过Tapable来管理编译的这条线")])]),e("p",[l._v("`")]),e("pre",[e("code",[l._v("class BasicPlugin{\n    constructor(options){}\n    apply(compiler){\n        // 监听事件, 回调\n        compiler.plugin('compilation', function(compilation){\n            // compilation也提供了很多事件回调\n        })\n    }\n}\n")])]),e("p",[l._v("`")]),e("ul",[e("li",[l._v("可以广播出新事件, 让新的插件监听")]),e("li",[l._v("改变compiler或compilation会景致后面的插件")]),e("li",[l._v("有些事件是异步的, 这些异步事件会附带两个参数")])])])}],!1,null,null,null);i.default=n.exports}}]);