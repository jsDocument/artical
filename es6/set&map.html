<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>技术文档 | Set &amp; Map</title>
    <meta name="description" content="偏重前端与node的技术文档">
    
    
    <link rel="preload" href="/assets/css/145.styles.54e55040.css" as="style"><link rel="preload" href="/assets/js/app.d047c493.js" as="script"><link rel="preload" href="/assets/js/62.8a99f4fd.js" as="script"><link rel="prefetch" href="/assets/js/67.f02485df.js"><link rel="prefetch" href="/assets/js/0.33d0588d.js"><link rel="prefetch" href="/assets/js/1.2589eb81.js"><link rel="prefetch" href="/assets/js/2.54d7497f.js"><link rel="prefetch" href="/assets/js/3.ddca7a13.js"><link rel="prefetch" href="/assets/js/4.0085eee2.js"><link rel="prefetch" href="/assets/js/5.2ce0286e.js"><link rel="prefetch" href="/assets/js/6.2ca90248.js"><link rel="prefetch" href="/assets/js/7.2448ae55.js"><link rel="prefetch" href="/assets/js/8.8e2129ef.js"><link rel="prefetch" href="/assets/js/9.1d8e257c.js"><link rel="prefetch" href="/assets/js/10.7680fba2.js"><link rel="prefetch" href="/assets/js/11.44642488.js"><link rel="prefetch" href="/assets/js/12.12b42963.js"><link rel="prefetch" href="/assets/js/13.c40dbcab.js"><link rel="prefetch" href="/assets/js/14.9de4880f.js"><link rel="prefetch" href="/assets/js/15.c5d6fba3.js"><link rel="prefetch" href="/assets/js/16.b64b1bde.js"><link rel="prefetch" href="/assets/js/17.3dbde9d2.js"><link rel="prefetch" href="/assets/js/18.0b35c7a6.js"><link rel="prefetch" href="/assets/js/19.165c0a35.js"><link rel="prefetch" href="/assets/js/20.bb7ceebf.js"><link rel="prefetch" href="/assets/js/21.99204c6f.js"><link rel="prefetch" href="/assets/js/22.3722c06f.js"><link rel="prefetch" href="/assets/js/23.709e6964.js"><link rel="prefetch" href="/assets/js/24.ff8e1910.js"><link rel="prefetch" href="/assets/js/25.1c9ea308.js"><link rel="prefetch" href="/assets/js/26.3f5c739d.js"><link rel="prefetch" href="/assets/js/27.5ea966a4.js"><link rel="prefetch" href="/assets/js/28.9a57cc89.js"><link rel="prefetch" href="/assets/js/29.e73962b2.js"><link rel="prefetch" href="/assets/js/30.fd39f2de.js"><link rel="prefetch" href="/assets/js/31.80dc62b0.js"><link rel="prefetch" href="/assets/js/32.12a34743.js"><link rel="prefetch" href="/assets/js/33.1fddd05c.js"><link rel="prefetch" href="/assets/js/34.20949015.js"><link rel="prefetch" href="/assets/js/35.7f485cf1.js"><link rel="prefetch" href="/assets/js/36.ae65ae51.js"><link rel="prefetch" href="/assets/js/37.79c8b53f.js"><link rel="prefetch" href="/assets/js/38.80ac6dda.js"><link rel="prefetch" href="/assets/js/39.711fe8bd.js"><link rel="prefetch" href="/assets/js/40.da52091a.js"><link rel="prefetch" href="/assets/js/41.7d9e267e.js"><link rel="prefetch" href="/assets/js/42.624173fb.js"><link rel="prefetch" href="/assets/js/43.74b5192b.js"><link rel="prefetch" href="/assets/js/44.cee55b6a.js"><link rel="prefetch" href="/assets/js/45.93c4fa75.js"><link rel="prefetch" href="/assets/js/46.6571eef5.js"><link rel="prefetch" href="/assets/js/47.05f1fd38.js"><link rel="prefetch" href="/assets/js/48.f350d92e.js"><link rel="prefetch" href="/assets/js/49.6b256c70.js"><link rel="prefetch" href="/assets/js/50.4fe256bc.js"><link rel="prefetch" href="/assets/js/51.12658ee7.js"><link rel="prefetch" href="/assets/js/52.8b23166c.js"><link rel="prefetch" href="/assets/js/53.18a0e6de.js"><link rel="prefetch" href="/assets/js/54.395f7b5e.js"><link rel="prefetch" href="/assets/js/55.3988e234.js"><link rel="prefetch" href="/assets/js/56.72e04807.js"><link rel="prefetch" href="/assets/js/57.4be0f712.js"><link rel="prefetch" href="/assets/js/58.e6540a76.js"><link rel="prefetch" href="/assets/js/59.51c5b66c.js"><link rel="prefetch" href="/assets/js/60.e8f9e65e.js"><link rel="prefetch" href="/assets/js/61.98121637.js"><link rel="prefetch" href="/assets/js/63.0dfcb541.js"><link rel="prefetch" href="/assets/js/64.334ad62c.js"><link rel="prefetch" href="/assets/js/65.4d975609.js"><link rel="prefetch" href="/assets/js/66.291a9c15.js"><link rel="prefetch" href="/assets/js/68.538b2799.js"><link rel="prefetch" href="/assets/js/69.2bc314ee.js"><link rel="prefetch" href="/assets/js/70.c9e33e92.js"><link rel="prefetch" href="/assets/js/71.a3dac909.js"><link rel="prefetch" href="/assets/js/72.95c2cb47.js"><link rel="prefetch" href="/assets/js/73.096c267a.js"><link rel="prefetch" href="/assets/js/74.37e83cd0.js"><link rel="prefetch" href="/assets/js/75.b44eee0f.js"><link rel="prefetch" href="/assets/js/76.2bbbc620.js"><link rel="prefetch" href="/assets/js/77.1fa2861a.js"><link rel="prefetch" href="/assets/js/78.1410d1dd.js"><link rel="prefetch" href="/assets/js/79.62e1dec3.js"><link rel="prefetch" href="/assets/js/80.f6cf73ff.js"><link rel="prefetch" href="/assets/js/81.8cc8c898.js"><link rel="prefetch" href="/assets/js/82.accbed52.js"><link rel="prefetch" href="/assets/js/83.76fea4d8.js"><link rel="prefetch" href="/assets/js/84.569ca078.js"><link rel="prefetch" href="/assets/js/85.0f9c443f.js"><link rel="prefetch" href="/assets/js/86.b9b4802e.js"><link rel="prefetch" href="/assets/js/87.210079b9.js"><link rel="prefetch" href="/assets/js/88.123641cb.js"><link rel="prefetch" href="/assets/js/89.2d540519.js"><link rel="prefetch" href="/assets/js/90.00f153c4.js"><link rel="prefetch" href="/assets/js/91.1b6d1ef9.js"><link rel="prefetch" href="/assets/js/92.51e4ebb5.js"><link rel="prefetch" href="/assets/js/93.b8d00c33.js"><link rel="prefetch" href="/assets/js/94.f47dab84.js"><link rel="prefetch" href="/assets/js/95.5de66eef.js"><link rel="prefetch" href="/assets/js/96.f504afde.js"><link rel="prefetch" href="/assets/js/97.d2f14cd8.js"><link rel="prefetch" href="/assets/js/98.c9f3cc58.js"><link rel="prefetch" href="/assets/js/99.51edc63a.js"><link rel="prefetch" href="/assets/js/100.74b18b21.js"><link rel="prefetch" href="/assets/js/101.20d0c6bf.js"><link rel="prefetch" href="/assets/js/102.f6b4698d.js"><link rel="prefetch" href="/assets/js/103.79b8b5d2.js"><link rel="prefetch" href="/assets/js/104.1f6b8890.js"><link rel="prefetch" href="/assets/js/105.10c4c302.js"><link rel="prefetch" href="/assets/js/106.8603e9c6.js"><link rel="prefetch" href="/assets/js/107.990edec2.js"><link rel="prefetch" href="/assets/js/108.2bf8c32f.js"><link rel="prefetch" href="/assets/js/109.16d4838a.js"><link rel="prefetch" href="/assets/js/110.df28bd60.js"><link rel="prefetch" href="/assets/js/111.0b60c0ca.js"><link rel="prefetch" href="/assets/js/112.3488d57a.js"><link rel="prefetch" href="/assets/js/113.70371c4b.js"><link rel="prefetch" href="/assets/js/114.a58fc180.js"><link rel="prefetch" href="/assets/js/115.7f466735.js"><link rel="prefetch" href="/assets/js/116.25890dd0.js"><link rel="prefetch" href="/assets/js/117.ff59143b.js"><link rel="prefetch" href="/assets/js/118.d019a18d.js"><link rel="prefetch" href="/assets/js/119.2c0e6da9.js"><link rel="prefetch" href="/assets/js/120.05613ffa.js"><link rel="prefetch" href="/assets/js/121.fd82c728.js"><link rel="prefetch" href="/assets/js/122.2e74f566.js"><link rel="prefetch" href="/assets/js/123.d3c27784.js"><link rel="prefetch" href="/assets/js/124.6ebc383d.js"><link rel="prefetch" href="/assets/js/125.eac4d65e.js"><link rel="prefetch" href="/assets/js/126.cf853103.js"><link rel="prefetch" href="/assets/js/127.67a5a719.js"><link rel="prefetch" href="/assets/js/128.0651374f.js"><link rel="prefetch" href="/assets/js/129.b94725eb.js"><link rel="prefetch" href="/assets/js/130.9c657d5a.js"><link rel="prefetch" href="/assets/js/131.536fa0a7.js"><link rel="prefetch" href="/assets/js/132.f0d7f499.js"><link rel="prefetch" href="/assets/js/133.1eb2c7eb.js"><link rel="prefetch" href="/assets/js/134.8f1cdd39.js"><link rel="prefetch" href="/assets/js/135.ca58ca13.js"><link rel="prefetch" href="/assets/js/136.f7dade85.js"><link rel="prefetch" href="/assets/js/137.ba4f7e5b.js"><link rel="prefetch" href="/assets/js/138.08b61898.js"><link rel="prefetch" href="/assets/js/139.352f53f4.js"><link rel="prefetch" href="/assets/js/140.bc440913.js"><link rel="prefetch" href="/assets/js/141.958539b1.js"><link rel="prefetch" href="/assets/js/142.1a348d6d.js"><link rel="prefetch" href="/assets/js/143.3b0d5634.js"><link rel="prefetch" href="/assets/js/144.362ed7b8.js">
    <link rel="stylesheet" href="/assets/css/145.styles.54e55040.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      技术文档
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><!----></div></header><div class="sidebar-mask"></div><div class="sidebar"><!----><ul class="sidebar-links"><li><a href="/" class="sidebar-link">技术文档</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>node学习</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>leetcode完成的好的题目</span><!----></p><ul class="sidebar-group-items"><li><a href="/LeetCode/regex.html" class="sidebar-link">正则相关的题目</a></li><li><a href="/LeetCode/string.html" class="sidebar-link">String 相关的题目</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>ES6学习</span><span class="arrow up"></span></p><ul class="sidebar-group-items"><li><a href="/es6/set&amp;map.html" class="active sidebar-link">Set &amp; Map</a></li><li><a href="/es6/generator.html" class="sidebar-link">Symbol 和 Iterator 及 Generator</a></li><li><a href="/es6/promise.html" class="sidebar-link">Promise</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Vue源码学习</span><!----></p><ul class="sidebar-group-items"><li><a href="/vue_resource/structure.html" class="sidebar-link">vue目录结构导读</a></li><li><a href="/vue_resource/start.html" class="sidebar-link">Vue之旅开始</a></li><li><a href="/vue_resource/options.html" class="sidebar-link">mergeOption的初始化与合并规则</a></li><li><a href="/vue_resource/init_data.html" class="sidebar-link">init_data</a></li><li><a href="/vue_resource/events.html" class="sidebar-link">内部事件初始始化与事件的实现</a></li><li><a href="/vue_resource/compile_el.html" class="sidebar-link">编译的整个过程与相关方法讲解</a></li><li><a href="/vue_resource/_compile_root.html" class="sidebar-link">编译其他节点</a></li><li><a href="/vue_resource/_compile_rest.html" class="sidebar-link">编译根节点</a></li><li><a href="/vue_resource/directive_base.html" class="sidebar-link">指令的创建与生成及更新</a></li><li><a href="/vue_resource/watch_observer.html" class="sidebar-link">watch</a></li><li><a href="/vue_resource/batcher.html" class="sidebar-link">管理watcher队列</a></li><li><a href="/vue_resource/calculate.html" class="sidebar-link">表达式的运算与执行过滤</a></li><li><a href="/vue_resource/hook.html" class="sidebar-link">钩子函数的初始化与实现</a></li><li><a href="/vue_resource/transition.html" class="sidebar-link">transition实现讲解</a></li><li><a href="/vue_resource/dom.html" class="sidebar-link">DOM操作的几个方法实现</a></li><li><a href="/vue_resource/fragmentFactory.html" class="sidebar-link">工厂</a></li><li><a href="/vue_resource/directive_every.html" class="sidebar-link">内部几个指令的实现讲解</a></li><li><a href="/vue_resource/parse.html" class="sidebar-link">表达式解析的相关实现</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端常见问题</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端基础</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>算法</span><!----></p><ul class="sidebar-group-items"><li><a href="/arithmetic/reg_match.html" class="sidebar-link">正则匹配模式</a></li><li><a href="/arithmetic/search_str.html" class="sidebar-link">正则查找子串</a></li><li><a href="/算法/callStack.html" class="sidebar-link">递归调用栈及尾递归的优化</a></li><li><a href="/算法/sort.html" class="sidebar-link">排序算法</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="set-map">Set &amp; Map</h1><h3 id="set">Set</h3><p>用来生成set数据结构，通过add方法向Set结构加入成员，不会添加重复的值。</p><ol><li>new Set()</li><li>new Set([])</li><li>[... new Set(array)]</li><li>set.size</li><li>set.add(value)</li><li>set.delete(value)</li><li>set.has(value)</li><li>clear()</li></ol><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>向Set加入值时，不会发生类型转换，内部判断两个值是否不同的算法叫<code>Same-value-zero equality</code>，类似于===运算，但NaN在===运算当中认为NaN不等于自身。</p></div><pre><code>例：每封电子邮件都由一个本地名称和一个域名组成，以 @ 符号分隔。
例如，在 alice@leetcode.com中， alice 是本地名称，而 leetcode.com 是域名。
除了小写字母，这些电子邮件还可能包含 ',' 或 '+'。
如果在电子邮件地址的本地名称部分中的某些字符之间添加句点（'.'），则发往那里的邮件将会转发到本地名称中没有点的同一地址。例如，&quot;alice.z@leetcode.com” 和 “alicez@leetcode.com” 会转发到同一电子邮件地址。 （请注意，此规则不适用于域名。）
如果在本地名称中添加加号（'+'），则会忽略第一个加号后面的所有内容。这允许过滤某些电子邮件，例如 m.y+name@email.com 将转发到 my@email.com。 （同样，此规则不适用于域名。）
可以同时使用这两个规则。
给定电子邮件列表 emails，我们会向列表中的每个地址发送一封电子邮件。实际收到邮件的不同地址有多少？
</code></pre><pre class="language-javascript"><code><span class="token comment">/**
 * @param {string[]} emails
 * @return {number}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">numUniqueEmails</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>emails<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/[^@]+/</span>
    <span class="token keyword">const</span> reg1 <span class="token operator">=</span> <span class="token regex">/\+[^@]*/</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> temp<span class="token punctuation">;</span>
    emails<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        emails<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>match<span class="token punctuation">,</span> index<span class="token punctuation">,</span> all<span class="token punctuation">)</span><span class="token punctuation">{</span>
            temp <span class="token operator">=</span> all<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> match<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> match<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\./g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">+</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg1<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    emails <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>emails<span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> emails<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>Array.from(new Set(array)) 可以将Set结构转为数组</p><h3 id="set的遍历操作，提供了4个实例方法">Set的遍历操作，提供了4个实例方法</h3><ul><li><p>keys()：返回键名的遍历器</p></li><li><p>values()：返回键值的遍历器</p></li><li><p>entries()：返回键值对的遍历器</p></li><li><p>forEach()：使用回调函数遍历每个成员</p><p>遍历器对象相关，可以查阅；
Set结构默认可遍历，它的默认遍历器生成函数是values方法；意味着可以直接用for...of遍历Set；扩展运算符(...)内部使用for...of
而且数组的map和filter也间接使用了Set。</p></li></ul><h3 id="weakset">WeakSet</h3><p>与Set类似，也是不重复值的集合，但WeakSet的成员只能是对象，不能是其他类型的值；WeakSet中的对象都弱引用，即垃圾回收机制不考虑 WeakSet 对该对象的引用，也就是说，如果其他对象都不再引用该对象，那么垃圾回收机制会自动回收该对象所占用的内存，不考虑该对象还存在于 WeakSet 之中。</p><p>这是因为垃圾回收机制依赖引用计数，如果一个值的引用次数不为0，垃圾回收机制就不会释放这块内存。结束使用该值之后，有时会忘记取消引用，导致内存无法释放，进而可能会引发内存泄漏。WeakSet 里面的引用，都不计入垃圾回收机制，所以就不存在这个问题。因此，WeakSet 适合临时存放一组对象，以及存放跟对象绑定的信息。只要这些对象在外部消失，它在 WeakSet 里面的引用就会自动消失。</p><p>由于上面这个特点，WeakSet 的成员是不适合引用的，因为它会随时消失。另外，由于 WeakSet 内部有多少个成员，取决于垃圾回收机制有没有运行，运行前后很可能成员个数是不一样的，而垃圾回收机制何时运行是不可预测的，因此 ES6 规定 WeakSet 不可遍历。</p><h3 id="map">Map</h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>JavaScript 的对象（Object），本质上是键值对的集合（Hash 结构），但是传统上只能用字符串当作键。这给它的使用带来了很大的限制。
为了解决这个问题，ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键</p></div><p>实例的属性与方法</p><ul><li><p>size</p></li><li><p>set(key, value)</p></li><li><p>get(key)</p></li><li><p>has(key)</p></li><li><p>delete(key)</p></li><li><p>clear</p><p>Map遍历方法与Set的一样，其遍历顺序就是插入顺序，但Map的forEach方法接收第二个参数，用来绑定this.
Map结构转为数组，比较快速的方法为(...)</p></li></ul><pre class="language-javascript"><code><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 也可以是数组</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'test1'</span><span class="token punctuation">,</span> <span class="token string">'new sub'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'test2'</span><span class="token punctuation">,</span> <span class="token string">'new sup'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>任何具有 Iterator 接口、且每个成员都是一个双元素的数组的数据结构都可以当作Map构造函数的参数</p><pre class="language-javascript"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">555</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre><p>只有对同一个对象的引用 ，Map结构才将其视为同一个键。上面看似同一个键，但其实是两个值，内存地址是不一样的，所以无法读取该键。</p><h3 id="weakmap">WeakMap</h3><p>只接受对象作为键名(null除外)，用于生成键值对的集合。其特点与WeakSet一样。</p><p>注意，WeakMap 弱引用的只是键名，而不是键值。键值依然是正常引用。</p></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/LeetCode/string.html" class="prev">
          String 相关的题目
        </a></span><span class="next"><a href="/es6/generator.html">
          Symbol 和 Iterator 及 Generator
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/62.8a99f4fd.js" defer></script><script src="/assets/js/app.d047c493.js" defer></script>
  </body>
</html>
