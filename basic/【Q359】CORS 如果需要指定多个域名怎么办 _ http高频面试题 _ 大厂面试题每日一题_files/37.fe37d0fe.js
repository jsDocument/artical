(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{459:function(t,e,s){"use strict";s.r(e);var o=s(54),a=Object(o.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"如果-http-响应头中-etag-值改变了-是否意味着文件内容一定已经更改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如果-http-响应头中-etag-值改变了-是否意味着文件内容一定已经更改"}},[t._v("#")]),t._v(" 如果 http 响应头中 ETag 值改变了，是否意味着文件内容一定已经更改")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Issue")]),t._v(" "),s("p",[t._v("欢迎在 Gtihub Issue 中回答此问题: "),s("a",{attrs:{href:"https://github.com/shfshanyue/Daily-Question/issues/113",target:"_blank",rel:"noopener noreferrer"}},[t._v("Issue 113"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Author")]),t._v(" "),s("p",[t._v("回答者: "),s("a",{attrs:{href:"https://github.com/shfshanyue",target:"_blank",rel:"noopener noreferrer"}},[t._v("shfshanyue"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("不一定，由服务器中 "),s("code",[t._v("ETag")]),t._v(" 的生成算法决定。详见 "),s("a",{attrs:{href:"https://github.com/shfshanyue/Daily-Question/issues/112",target:"_blank",rel:"noopener noreferrer"}},[t._v("#112"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("比如 "),s("code",[t._v("nginx")]),t._v(" 中的 "),s("code",[t._v("etag")]),t._v(" 由 "),s("code",[t._v("last_modified")]),t._v(" 与 "),s("code",[t._v("content_length")]),t._v(" 组成，而 "),s("code",[t._v("last_modified")]),t._v(" 又由 "),s("code",[t._v("mtime")]),t._v(" 组成")]),t._v(" "),s("p",[t._v("当编辑文件却未更改文件内容时，或者 "),s("code",[t._v("touch file")]),t._v("，"),s("code",[t._v("mtime")]),t._v(" 也会改变，此时 "),s("code",[t._v("etag")]),t._v(" 改变，但是文件内容没有更改。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Author")]),t._v(" "),s("p",[t._v("回答者: "),s("a",{attrs:{href:"https://github.com/collins999",target:"_blank",rel:"noopener noreferrer"}},[t._v("collins999"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("比如 nginx 中的 etag 由 last_modified 与 content_length 组成，而 last_modified 又由 mtime 组成。")]),t._v(" "),s("p",[t._v("那 Etag 是怎么解决 last_modified，当编辑文件却未更改文件时间的问题？")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Author")]),t._v(" "),s("p",[t._v("回答者: "),s("a",{attrs:{href:"https://github.com/shfshanyue",target:"_blank",rel:"noopener noreferrer"}},[t._v("shfshanyue"),s("OutboundLink")],1)])]),t._v(" "),s("blockquote",[s("p",[t._v("比如 nginx 中的 etag 由 last_modified 与 content_length 组成，而 last_modified 又由 mtime 组成。")]),t._v(" "),s("p",[t._v("那 Etag 是怎么解决 last_modified，当编辑文件却未更改文件时间的问题？")])]),t._v(" "),s("ol",[s("li",[t._v("此时文件大小有可能发生更改，ETag 会改变")]),t._v(" "),s("li",[t._v("此时文件大小没有发生更改，ETag 不会改变。但这需要极其苛刻的条件：1s 内更改文件，并且保持文件大小不变。这种情况出现概率很低，因此忽略了")])])])}),[],!1,null,null,null);e.default=a.exports}}]);