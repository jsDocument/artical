(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{455:function(t,e,s){"use strict";s.r(e);var a=s(54),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"gzip-的原理是什么-如何配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gzip-的原理是什么-如何配置"}},[t._v("#")]),t._v(" gzip 的原理是什么，如何配置")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Issue")]),t._v(" "),s("p",[t._v("欢迎在 Gtihub Issue 中回答此问题: "),s("a",{attrs:{href:"https://github.com/shfshanyue/Daily-Question/issues/109",target:"_blank",rel:"noopener noreferrer"}},[t._v("Issue 109"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Author")]),t._v(" "),s("p",[t._v("回答者: "),s("a",{attrs:{href:"https://github.com/shfshanyue",target:"_blank",rel:"noopener noreferrer"}},[t._v("shfshanyue"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("一句话："),s("code",[t._v("gzip")]),t._v(" 的核心是 "),s("code",[t._v("Deflate")]),t._v("，而它使用了 "),s("code",[t._v("LZ77")]),t._v(" 算法与 "),s("code",[t._v("Huffman")]),t._v(" 编码来压缩文件，重复度越高的文件可压缩的空间就越大。")]),t._v(" "),s("p",[t._v("因此 "),s("code",[t._v("gzip")]),t._v(" 用于 HTTP 文件传输中，比如 JS、CSS 等，"),s("strong",[t._v("但一般不会压缩图片")]),t._v("。在 HTTP Response 报文中，用 "),s("code",[t._v("Content-Encoding")]),t._v(" 指明使用 gzip 压缩，而以下响应头在大部分生产环境的响应报文中都可以看到！比如你现在立刻马上可以打开"),s("a",{attrs:{href:"https://q.shanyue.tech",target:"_blank",rel:"noopener noreferrer"}},[t._v("我的网站"),s("OutboundLink")],1),t._v("或者"),s("a",{attrs:{href:"https://www.baidu.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("百度"),s("OutboundLink")],1),t._v("试一试。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Request Header")]),t._v("\nAccept-Encoding: gzip, deflate, br\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Reponse Header")]),t._v("\nContent-Encoding: "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gzip")]),t._v("\n")])])]),s("p",[s("code",[t._v("gzip")]),t._v(" 一般在反向代理那一层，如 "),s("code",[t._v("nginx")]),t._v(" 进行处理，直接使用 C 语言编写，具有更好的性能。")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("nginx")]),t._v(" 开启 "),s("code",[t._v("gzip")]),t._v(": 配置可参考 "),s("a",{attrs:{href:"http://nginx.org/en/docs/http/ngx_http_gzip_module.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("gzip module"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-nginx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("on")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"lz77"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lz77"}},[t._v("#")]),t._v(" LZ77")]),t._v(" "),s("h2",{attrs:{id:"huffman"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#huffman"}},[t._v("#")]),t._v(" Huffman")]),t._v(" "),s("h2",{attrs:{id:"相关阅读"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关阅读"}},[t._v("#")]),t._v(" 相关阅读")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://blog.csdn.net/imquestion/article/details/16439",target:"_blank",rel:"noopener noreferrer"}},[t._v("gzip 原理与实现"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);